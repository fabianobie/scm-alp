<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-reverse-engineering 
  SYSTEM "http://hibernate.sourceforge.net/hibernate-reverse-engineering-3.0.dtd" >

<hibernate-reverse-engineering>

	<schema-selection match-schema="frotasweb" />

	<type-mapping>
		<sql-type jdbc-type="TINYINT" hibernate-type="java.lang.Integer" />
		<sql-type jdbc-type="BIGINT" hibernate-type="java.lang.Long" />
	</type-mapping>

	<table-filter match-name="jbpm_.*" exclude="true" />
	<table-filter match-name="autz_.*" exclude="true" />
	<table-filter match-name="cidade_aud" exclude="true" />
	<table-filter match-name="continente_aud" exclude="true" />
	<table-filter match-name=".*">
		<meta attribute="extends">br.com.linkdata.entity.Entity</meta>
	</table-filter>

<!-- RELAÇÃO DE TABELAS ####################################################################### -->
	<table name="abrangencia">
		<meta attribute="extends">br.com.linkdata.domain.ElementoDeDominio</meta>
	</table>
	<table name="agregacao_indice">
		<meta attribute="extends">br.com.linkdata.domain.ElementoDeDominio</meta>
	</table>
	<table name="alerta_email_frotas">
		<meta attribute="extends">br.com.linkdata.entity.ExclusaoLogica</meta>
		<column name="email_usuario" property="email" />
		<column name="nm_usuario" property="nome" />
	</table>
	<table name="alerta_servico">
		<column name="vl_porcentagem_alerta_servico" property="porcentagem" />
		<column name="vl_km_referenciada" property="quilometragemReferenciada" />
	</table>
	<table name="amparo_legal">
		<foreign-key constraint-name="fk_amparolegalfilhos_al">
			<many-to-one property="amparoLegalPai" />
			<set property="amparosLegaisFilhos" />
		</foreign-key>
	</table>
	<table name="anexo">
		<meta attribute="meta-byteArray">
			@org.hibernate.annotations.Type(type = "br.com.linkdata.entity.BlobUserType")
		</meta>
		<column name="nm_anexo" property="nmArquivo" />
		<column name="byte_array" property="btArray" />
		<column name="dt_anexo" property="dtUpload" />
	</table>
	<table name="apelido_material">
		<meta attribute="extends">br.com.linkdata.entity.Entity</meta>
		<meta attribute="implements"><![CDATA[java.lang.Comparable<ApelidoMaterial>]]></meta>
		<meta attribute="class-code">
	/**
	 * @see java.lang.Comparable#compareTo(java.lang.Object)
	 */
	public int compareTo(ApelidoMaterial o) {
		return apelido.compareTo(o.apelido);
	}
		</meta>
		<column name="ds_apelido" property="apelido" />
	</table>
	<table name="aquisicao">
		<!-- PROBLEMA
			Não foi possível modificar a propriedade many-to-many
		 -->
		<column name="nu_aquisicao" property="numeroAquisicao" />
	</table>
	<table name="aquisicao_veiculo">
		<!-- PROBLEMA
			Mapeamento do atributo veículo está diferente
		 -->
		<column name="dt_aquisicao" property="dataAquisicao" />
		<column name="nm_adquirente" property="adquirente" />
	</table>
	<table name="atributo">
		<!-- PROBLEMA
			@Name com uma definição diferente do nome da classe.
			Atributos não mapeados, somente o ID
		 -->
	</table>
	<table name="auditoria">
		<!-- PROBLEMA
			Atributos não mapeados, somente o ID
		 -->
	</table>
	<table name="autorizacao_debito_conta">
		<column name="dt_autorizacao" property="dataAutorizacao" />
		<column name="nr_parcelas" property="numeroParcelas" />
		<column name="nm_responsavel" property="nomeResponsavel" />
	</table>
	<table name="autorizacao_processo" class="br.com.linkdata.entity.AutorizacaoProcessoAquisicao">
		<column name="ind_aprovada" property="autorizado" />
		<column name="dt_autorizacao" property="data" />
		<column name="ds_observacoes" property="observacao" />
	</table>
	<table name="caracteristica_material">
		<meta attribute="extends">br.com.linkdata.entity.Entity</meta>
		<meta attribute="implements"><![CDATA[java.lang.Comparable<CaracteristicaMaterial>]]></meta>
		<meta attribute="class-code">
	/**
	 * @see java.lang.Comparable#compareTo(java.lang.Object)
	 */
	public int compareTo(CaracteristicaMaterial o) {
		return caracteristicaModelo.getOrdem().compareTo(o.getCaracteristicaModelo().getOrdem());
	}
		</meta>
		<column name="nr_ordem" property="ordem" />
		<column name="ds_valor" property="valor" />
	</table>
	<table name="caracteristica_modelo">
		<meta attribute="implements"><![CDATA[java.lang.Comparable<CaracteristicaModelo>]]></meta>
		<meta attribute="class-code">
	/**
	 * @see java.lang.Comparable#compareTo(java.lang.Object)
	 */
	public int compareTo(CaracteristicaMaterial o) {
		return ordem.compareTo(o.getOrdem());
	}
		</meta>
		<column name="nm_caract_modelo" property="nome" />
		<column name="nr_ordem" property="ordem" />
		<column name="in_obrigatorio" property="obrigatorio" />
	</table>
	<table name="caracteristica_servico">
		<column name="nm_caract_servico" property="nome" />
		<column name="nr_ordem" property="ordem" />
		<column name="in_vigente" property="vigente" />
		<foreign-key constraint-name="fk_cs_sup_cs">
			<many-to-one property="caracteristicaSuperior" />
			<set property="caracteristicaServicos" />
		</foreign-key>
	</table>
	<table name="caracteristica_veiculo">
		<!-- PROBLEMA
			Mapeamento veiculo errado, está one-to-one onde deveria ser one-to-many
		 -->
		<column name="ds_caracteristica" property="descricao" />
		<column name="nr_portas" property="numeroPortas" />
	</table>
	<table name="carteira_nac_habilitacao">
		<!-- PROBLEMA
			O @Name está com um nome diferente da classe.
		 -->
		<column name="dt_expedicao" property="dataExpedicao" />
		<column name="dt_vencimento" property="vencimento" />
	</table>
	<table name="cbo" class="br.com.linkdata.entity.CBO"/>
	<table name="cidade">
		<meta attribute="extends">br.com.linkdata.entity.ExclusaoLogica</meta>
		<meta attribute="extra-classe">
@br.com.linkdata.velocity.CrudGen
@org.hibernate.envers.Audited
		</meta>
		<column name="nm_cidade" property="nome" />
		<column name="cd_municipio" property="codMunicipio" />
		<column name="dt_desativacao" property="dataDesativacao" />
		<foreign-key constraint-name="fk_situacao_cidade">
			<many-to-one property="situacao" />
		</foreign-key>
	</table>
	<table name="codigo_postal">
		<meta attribute="extends">br.com.linkdata.entity.ExclusaoLogica</meta>
		<column name="nm_codigo_postal" property="codigoPostal" />
		<column name="lg_codigo_postal" property="logradouro" />
		<foreign-key constraint-name="fk_situacao_cp">
			<many-to-one property="situacao" />
		</foreign-key>
	</table>
	<table name="coluna_modelo_caracteristica">
		<!-- PROBLEMA
			O atributo 'modeloValores' precisa ser renomeado, mas é um one-to-many.
		 -->
		<meta attribute="implements"><![CDATA[br.com.linkdata.entity.Duplicate<ColunaModeloCaracteristica>]]></meta>
		<meta attribute="class-code">
		<![CDATA[
	public ColunaModeloCaracteristica duplicate(DuplicateBag bag) {
		if(bag.fits(this)){
			ColunaModeloCaracteristica cmc = new ColunaModeloCaracteristica();
			bag.store(this,cmc);
			cmc.setId(this.getId());
			cmc.setMascara(this.getMascara());
			cmc.setNome(this.getNome());
			cmc.setOrdem(this.getOrdem());
			cmc.setTipoDado(this.getTipoDado().duplicate(bag));
			cmc.setTotalizavel(this.getTotalizavel());
			if(this.getModeloValores() != null && this.getModeloValores().size() != 0){
				for (ModeloValorCaracteristica mvc : this.getModeloValores()) {
					cmc.addValor(mvc.duplicate(bag));
				}
			}
		}
		return (ColunaModeloCaracteristica) bag.retrieve(this);
	}
		]]>
		</meta>
		<column name="nr_ordem" property="ordem" />
		<column name="nm_coluna" property="nome" />
		<column name="in_totalizavel" property="totalizavel" />
		<column name="ds_mascara" property="mascara" />
	</table>
	<table name="coluna_modelo_caracteristica">
		<column name="comprador" property="nome" />
	</table>
	<table name="configuracao_alerta_frotas">
		<column name="comprador" property="nome" />
		<column name="qtd_" property="quantidade" />
	</table>
	<table name="contato_fornecedor">
		<column name="nm_contato_for" property="nome" />
		<column name="ds_email_contato_for" property="email" />
		<column name="nm_cargo_contato_for" property="cargo" />
		<column name="nm_cpf" property="cpf" />
		<column name="in_preposto" property="preposto" />
		<foreign-key constraint-name="fk_telefone_con">
			<many-to-one property="telefone" />
		</foreign-key>
		<foreign-key constraint-name="fk_celular_con">
			<many-to-one property="celular" />
		</foreign-key>
	</table>
	<table name="contato_motorista">
		<!-- PROBLEMA
			O atributo 'motorista' não foi gerado, verificar o relacionamento.
		 -->
		<column name="nm_contato_motorista" property="nome" />
		<column name="ds_email_contato_motorista" property="email" />
		<foreign-key constraint-name="fk_telefone_gp">
			<many-to-one property="telefone" />
		</foreign-key>
		<foreign-key constraint-name="fk_celular_gp">
			<many-to-one property="celular" />
		</foreign-key>
	</table>
	<table name="contrato">
		<!-- PROBLEMA
			O atributo 'itens' deve ser renomeado, mas é um one-to-many.
			O atributo 'fornecedor' foi gerado como Long e deveria ser uma entidade Fornecedor.
			O atributo 'vigencia' foi gerado como Long e deveria ser uma entidade Vigencia.
			Alguns atributos de coleção estão com os nomes errados.
		 -->
		<foreign-key constraint-name="fk_unidade_con_ctr">
			<many-to-one property="unidadeContratante" />
		</foreign-key>
	</table>
	<table name="conversa">
		<!-- PROBLEMA
			Atributos 'one-to-many' com nomes diferentes.
		 -->
		<column name="dt_ultima_mensagem" property="dataUltimaMensagem" />
		<column name="id_process_instance" property="processInstanceId" />
		<column name="id_task" property="taskId" />
		<column name="id_task_destino" property="taskIdDestino" />
	</table>
<!-- FIM RELAÇÃO DE TABELAS ################################################################### -->
</hibernate-reverse-engineering>
