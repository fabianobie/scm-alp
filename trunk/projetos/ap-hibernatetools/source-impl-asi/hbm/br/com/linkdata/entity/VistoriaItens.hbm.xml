<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- Generated 23/12/2009 11:50:13 by Hibernate Tools 3.2.5.Beta -->
<hibernate-mapping>
	<meta attribute="implements"><![CDATA[Comparable<VistoriaItens>]]></meta>
	<meta attribute="class-code">
	public VistoriaItens() {
		//Construtor.
	}

	public VistoriaItens(VistoriaVeiculo vistoriaVeiculo,
			ItemVistoriaVeiculo itemVistoriaVeiculo) {
		
		this.getId().setIdItemVistoriaVeiculo(itemVistoriaVeiculo.getId());
		
		this.vistoriaVeiculo = vistoriaVeiculo;
		this.itemVistoriaVeiculo = itemVistoriaVeiculo;

		vistoriaVeiculo.getVistoriasItens().add(this);
	}
	
	@Override
	public int compareTo(VistoriaItens vi) {
		return this.getItemVistoriaVeiculo().getDescricao().compareTo(vi.getItemVistoriaVeiculo().getDescricao());
	}
	</meta>
    <class name="br.com.linkdata.entity.VistoriaItens" table="VISTORIA_ITENS">
        <composite-id name="id" class="br.com.linkdata.entity.VistoriaItensId" access="field">
        	<meta attribute="class-code">
     public boolean equals(Object o) {
		if (o != null &amp;&amp; o instanceof VistoriaItensId) {
			VistoriaItensId objeto = (VistoriaItensId) o;
			return this.idVistoriaVeiculo.equals(objeto.idVistoriaVeiculo)
					&amp;&amp; this.idItemVistoriaVeiculo.equals(objeto.idItemVistoriaVeiculo);
		} else {
			return false;
		}
	}

	public int hashCode() {
		return idVistoriaVeiculo.hashCode() + idItemVistoriaVeiculo.hashCode();
	}
        	</meta>
        	<meta attribute="implements"/>
            <key-property name="idItemVistoriaVeiculo" type="java.lang.Long">
                <column name="ID_ITEM_VISTORIA_VEICULO" />
            </key-property>
            <key-property name="idVistoriaVeiculo" type="java.lang.Long">
                <column name="ID_VISTORIA_VEICULO" />
            </key-property>
        </composite-id>
        <many-to-one name="estadoItensAvaliacao" class="br.com.linkdata.entity.EstadoItensAvaliacao" access="field" fetch="join">
            <column name="ID_ESTADO_ITENS_AVALIACAO" />
        </many-to-one>
        <many-to-one name="itemVistoriaVeiculo" class="br.com.linkdata.entity.ItemVistoriaVeiculo" update="false" insert="false" access="field" fetch="join">
            <column name="ID_ITEM_VISTORIA_VEICULO" />
        </many-to-one>
        <many-to-one name="vistoriaVeiculo" class="br.com.linkdata.entity.VistoriaVeiculo" update="false" insert="false" access="field" fetch="join">
            <column name="ID_VISTORIA_VEICULO" />
        </many-to-one>
    </class>
</hibernate-mapping>
